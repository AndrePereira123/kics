{
	"document": [
		{
			"id": "6a71f23c-7171-4f08-9d15-b31eee142380",
			"resource": {
				"databricks_job": {
					"negative1": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					}
				},
				"databricks_permissions": {
					"job_usage": {
						"access_control": [
							{
								"group_name": "users",
								"permission_level": "CAN_VIEW"
							},
							{
								"group_name": "${databricks_group.auto.display_name}",
								"permission_level": "CAN_MANAGE_RUN"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "CAN_MANAGE"
							},
							{
								"permission_level": "IS_OWNER",
								"service_principal_name": "${databricks_service_principal.aws_principal.application_id}"
							}
						],
						"job_id": "${databricks_job.negative1.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/negative1.tf"
		},
		{
			"id": "f922a6c8-2e51-44a8-8cda-220bbbb5c461",
			"resource": {
				"databricks_cluster": {
					"negative2": {
						"autoscale": {
							"max_workers": 10,
							"min_workers": 1
						},
						"autotermination_minutes": 60,
						"cluster_name": "Shared Autoscaling",
						"node_type_id": "${data.databricks_node_type.smallest.id}",
						"spark_version": "${data.databricks_spark_version.latest.id}"
					}
				},
				"databricks_permissions": {
					"cluster_usage": {
						"access_control": [
							{
								"group_name": "${databricks_group.auto.display_name}",
								"permission_level": "CAN_ATTACH_TO"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "CAN_RESTART"
							},
							{
								"group_name": "${databricks_group.ds.display_name}",
								"permission_level": "CAN_MANAGE"
							}
						],
						"cluster_id": "${databricks_cluster.negative2.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/negative2.tf"
		},
		{
			"id": "44189886-236f-4bb5-9754-e738a5b86186",
			"resource": {
				"databricks_job": {
					"negative3": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					}
				},
				"databricks_permissions": {
					"job_usage": {
						"access_control": {
							"permission_level": "IS_OWNER",
							"service_principal_name": "${databricks_service_principal.aws_principal.application_id}"
						},
						"job_id": "${databricks_job.negative3.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/negative3.tf"
		},
		{
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/positive1.tf",
			"id": "336fb3bb-d9e8-40b3-b755-605c83ab3e04",
			"resource": {
				"databricks_job": {
					"positive1": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					},
					"positive1_error": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					}
				},
				"databricks_permissions": {
					"job_usage": {
						"access_control": [
							{
								"group_name": "users",
								"permission_level": "CAN_VIEW"
							},
							{
								"group_name": "${databricks_group.auto.display_name}",
								"permission_level": "CAN_MANAGE_RUN"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "CAN_MANAGE"
							},
							{
								"permission_level": "IS_OWNER",
								"service_principal_name": "${databricks_service_principal.aws_principal.application_id}"
							}
						],
						"job_id": "${databricks_job.positive1.id}"
					}
				}
			}
		},
		{
			"id": "146e6ccb-1f28-4090-8822-7fc32f85ab1c",
			"resource": {
				"databricks_cluster": {
					"positive2": {
						"autoscale": {
							"max_workers": 10,
							"min_workers": 1
						},
						"autotermination_minutes": 60,
						"cluster_name": "Shared Autoscaling",
						"node_type_id": "${data.databricks_node_type.smallest.id}",
						"spark_version": "${data.databricks_spark_version.latest.id}"
					},
					"positive2_error": {
						"autoscale": {
							"max_workers": 10,
							"min_workers": 1
						},
						"autotermination_minutes": 60,
						"cluster_name": "Shared Autoscaling",
						"node_type_id": "${data.databricks_node_type.smallest.id}",
						"spark_version": "${data.databricks_spark_version.latest.id}"
					}
				},
				"databricks_permissions": {
					"cluster_usage": {
						"access_control": [
							{
								"group_name": "${databricks_group.auto.display_name}",
								"permission_level": "CAN_ATTACH_TO"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "CAN_RESTART"
							},
							{
								"group_name": "${databricks_group.ds.display_name}",
								"permission_level": "CAN_MANAGE"
							}
						],
						"cluster_id": "${databricks_cluster.positive2.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/positive2.tf"
		},
		{
			"id": "5f30cc00-1c48-43a9-b7d3-2074e9841024",
			"resource": {
				"databricks_job": {
					"positive3": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					}
				},
				"databricks_permissions": {
					"job_usage": {
						"access_control": [
							{
								"group_name": "users",
								"permission_level": "CAN_VIEW"
							},
							{
								"group_name": "${databricks_group.auto.display_name}",
								"permission_level": "CAN_MANAGE_RUN"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "CAN_MANAGE"
							},
							{
								"group_name": "${databricks_group.eng.display_name}",
								"permission_level": "IS_OWNER"
							}
						],
						"job_id": "${databricks_job.positive3.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/positive3.tf"
		},
		{
			"id": "db48835d-8e25-4597-a3f7-391f7914fe6e",
			"resource": {
				"databricks_job": {
					"positive4": {
						"max_concurrent_runs": 1,
						"name": "Featurization",
						"new_cluster": {
							"node_type_id": "${data.databricks_node_type.smallest.id}",
							"num_workers": 300,
							"spark_version": "${data.databricks_spark_version.latest.id}"
						},
						"notebook_task": {
							"notebook_path": "/Production/MakeFeatures"
						}
					}
				},
				"databricks_permissions": {
					"job_usage": {
						"access_control": {
							"group_name": "${databricks_group.eng.display_name}",
							"permission_level": "IS_OWNER"
						},
						"job_id": "${databricks_job.positive4.id}"
					}
				}
			},
			"file": "/Users/dgrisard/bedrock/opensource/dim-ops/kics/assets/queries/terraform/databricks/databricks_permissions/test/positive4.tf"
		}
	]
}
